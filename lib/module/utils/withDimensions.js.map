{"version":3,"names":["React","Dimensions","hoistNonReactStatic","isOrientationLandscape","_ref","width","height","withDimensions","WrappedComponent","EnhancedComponent","Component","constructor","props","_defineProperty","_ref2","window","setState","dimensions","isLandscape","get","state","componentDidMount","addEventListener","handleOrientationChange","componentWillUnmount","removeEventListener","render","createElement","_extends","displayName"],"sources":["withDimensions.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Dimensions, ScaledSize } from 'react-native';\nimport hoistNonReactStatic from 'hoist-non-react-statics';\n\ntype DimensionsType = {\n  width: number;\n  height: number;\n};\n\ntype InjectedProps = {\n  dimensions: DimensionsType;\n  isLandscape: boolean;\n};\n\nexport const isOrientationLandscape = ({ width, height }: DimensionsType) =>\n  width > height;\n\nexport default function withDimensions<Props extends InjectedProps>(\n  WrappedComponent: React.ComponentType<Props>\n): React.ComponentType<Pick<Props, Exclude<keyof Props, keyof InjectedProps>>> {\n  class EnhancedComponent extends React.Component {\n    static displayName = `withDimensions(${WrappedComponent.displayName})`;\n\n    constructor(props: Props) {\n      super(props);\n\n      const { width, height } = Dimensions.get('window');\n      this.state = {\n        dimensions: { width, height },\n        isLandscape: isOrientationLandscape({ width, height }),\n      };\n    }\n\n    componentDidMount() {\n      Dimensions.addEventListener('change', this.handleOrientationChange);\n    }\n\n    componentWillUnmount() {\n      Dimensions.removeEventListener('change', this.handleOrientationChange);\n    }\n\n    handleOrientationChange = ({ window }: { window: ScaledSize }) => {\n      const { width, height } = window;\n      this.setState({\n        dimensions: { width, height },\n        isLandscape: isOrientationLandscape({ width, height }),\n      });\n    };\n\n    render() {\n      // @ts-ignore\n      return <WrappedComponent {...this.props} {...this.state} />;\n    }\n  }\n\n  // @ts-ignore\n  return hoistNonReactStatic(EnhancedComponent, WrappedComponent);\n}\n"],"mappings":";;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,UAAU,QAAoB,cAAc;AACrD,OAAOC,mBAAmB,MAAM,yBAAyB;AAYzD,OAAO,MAAMC,sBAAsB,GAAGC,IAAA;EAAA,IAAC;IAAEC,KAAK;IAAEC;EAAuB,CAAC,GAAAF,IAAA;EAAA,OACtEC,KAAK,GAAGC,MAAM;AAAA;AAEhB,eAAe,SAASC,cAAcA,CACpCC,gBAA4C,EACiC;EAC7E,MAAMC,iBAAiB,SAAST,KAAK,CAACU,SAAS,CAAC;IAG9CC,WAAWA,CAACC,KAAY,EAAE;MACxB,KAAK,CAACA,KAAK,CAAC;MAACC,eAAA,kCAiBWC,KAAA,IAAwC;QAAA,IAAvC;UAAEC;QAA+B,CAAC,GAAAD,KAAA;QAC3D,MAAM;UAAET,KAAK;UAAEC;QAAO,CAAC,GAAGS,MAAM;QAChC,IAAI,CAACC,QAAQ,CAAC;UACZC,UAAU,EAAE;YAAEZ,KAAK;YAAEC;UAAO,CAAC;UAC7BY,WAAW,EAAEf,sBAAsB,CAAC;YAAEE,KAAK;YAAEC;UAAO,CAAC;QACvD,CAAC,CAAC;MACJ,CAAC;MArBC,MAAM;QAAED,KAAK,EAALA,MAAK;QAAEC,MAAM,EAANA;MAAO,CAAC,GAAGL,UAAU,CAACkB,GAAG,CAAC,QAAQ,CAAC;MAClD,IAAI,CAACC,KAAK,GAAG;QACXH,UAAU,EAAE;UAAEZ,KAAK,EAALA,MAAK;UAAEC,MAAM,EAANA;QAAO,CAAC;QAC7BY,WAAW,EAAEf,sBAAsB,CAAC;UAAEE,KAAK,EAALA,MAAK;UAAEC,MAAM,EAANA;QAAO,CAAC;MACvD,CAAC;IACH;IAEAe,iBAAiBA,CAAA,EAAG;MAClBpB,UAAU,CAACqB,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,uBAAuB,CAAC;IACrE;IAEAC,oBAAoBA,CAAA,EAAG;MACrBvB,UAAU,CAACwB,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACF,uBAAuB,CAAC;IACxE;IAUAG,MAAMA,CAAA,EAAG;MACP;MACA,oBAAO1B,KAAA,CAAA2B,aAAA,CAACnB,gBAAgB,EAAAoB,QAAA,KAAK,IAAI,CAAChB,KAAK,EAAM,IAAI,CAACQ,KAAK,CAAG,CAAC;IAC7D;EACF;;EAEA;EAAAP,eAAA,CAnCMJ,iBAAiB,iBACC,kBAAiBD,gBAAgB,CAACqB,WAAY,GAAE;EAmCxE,OAAO3B,mBAAmB,CAACO,iBAAiB,EAAED,gBAAgB,CAAC;AACjE"}